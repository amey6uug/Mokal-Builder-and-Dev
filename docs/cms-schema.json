{
  "contentTypes": {
    "project": {
      "fields": {
        "title": { "type": "string", "required": true },
        "slug": { "type": "string", "required": true, "unique": true },
        "heroImage": { "type": "media", "required": true },
        "gallery": { "type": "media", "multiple": true },
        "beforeAfterPairs": {
          "type": "component",
          "repeatable": true,
          "component": "project.before-after-pair"
        },
        "category": {
          "type": "enumeration",
          "enum": ["construction", "renovation", "waterproofing"],
          "required": true
        },
        "clientName": { "type": "string", "required": true },
        "location": { "type": "string", "required": true },
        "startDate": { "type": "date", "required": true },
        "endDate": { "type": "date", "required": true },
        "budgetBand": { "type": "string", "required": true },
        "areaSqFt": { "type": "number", "required": true },
        "caseStudy": { "type": "richtext", "required": true },
        "team": { "type": "relation", "relation": "oneToMany", "target": "user" },
        "seoMeta": {
          "type": "component",
          "component": "shared.seo"
        }
      }
    },
    "service": {
      "fields": {
        "title": { "type": "string", "required": true },
        "slug": { "type": "string", "required": true, "unique": true },
        "iconSvg": { "type": "text", "required": true },
        "shortDescription": { "type": "text", "required": true, "maxLength": 160 },
        "longDescription": { "type": "richtext", "required": true },
        "duration": { "type": "string", "required": true },
        "priceBands": {
          "type": "component",
          "repeatable": true,
          "component": "service.price-band"
        },
        "faqs": {
          "type": "component",
          "repeatable": true,
          "component": "shared.faq"
        },
        "relatedProjects": {
          "type": "relation",
          "relation": "manyToMany",
          "target": "project"
        }
      }
    },
    "testimonial": {
      "fields": {
        "clientName": { "type": "string", "required": true },
        "location": { "type": "string", "required": true },
        "quote": { "type": "text", "required": true, "maxLength": 500 },
        "photo": { "type": "media" },
        "projectRef": {
          "type": "relation",
          "relation": "manyToOne",
          "target": "project"
        },
        "rating": {
          "type": "enumeration",
          "enum": ["3", "4", "5"],
          "default": "5",
          "required": true
        }
      }
    },
    "lead": {
      "fields": {
        "name": { "type": "string", "required": true },
        "phone": { "type": "string", "required": true },
        "email": { "type": "email", "required": true },
        "source": { "type": "string", "required": true },
        "serviceInterest": {
          "type": "enumeration",
          "enum": ["construction", "renovation", "waterproofing"]
        },
        "area": { "type": "number" },
        "budget": { "type": "string" },
        "notes": { "type": "text" },
        "status": {
          "type": "enumeration",
          "enum": ["new", "contacted", "qualified", "proposal", "won", "lost"],
          "default": "new"
        },
        "assignedTo": {
          "type": "relation",
          "relation": "manyToOne",
          "target": "user"
        }
      }
    },
    "user": {
      "fields": {
        "name": { "type": "string", "required": true },
        "email": { "type": "email", "required": true, "unique": true },
        "role": {
          "type": "enumeration",
          "enum": ["SuperAdmin", "Editor", "ProjectManager", "Finance", "Support"],
          "required": true
        }
      }
    }
  },
  "components": {
    "project.before-after-pair": {
      "beforeImage": { "type": "media", "required": true },
      "afterImage": { "type": "media", "required": true },
      "description": { "type": "string" }
    },
    "service.price-band": {
      "name": { "type": "string", "required": true },
      "priceRange": { "type": "string", "required": true },
      "features": { "type": "text", "required": true }
    },
    "shared.seo": {
      "metaTitle": { "type": "string", "required": true, "maxLength": 60 },
      "metaDescription": { "type": "text", "required": true, "maxLength": 160 },
      "keywords": { "type": "text" },
      "canonicalUrl": { "type": "string" },
      "ogImage": { "type": "media" }
    },
    "shared.faq": {
      "question": { "type": "string", "required": true },
      "answer": { "type": "richtext", "required": true }
    }
  }
}